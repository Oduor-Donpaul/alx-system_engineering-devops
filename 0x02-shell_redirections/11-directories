#!/bin/bash
find . -type d -name '.*' -o -name '*' | awk -F/ 'NF>max{max=NF} NF>1{print} END{print max-2}'
